var s=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var d=(t,r)=>{var l={};for(var e in t)y.call(t,e)&&r.indexOf(e)<0&&(l[e]=t[e]);if(t!=null&&s)for(var e of s(t))r.indexOf(e)<0&&T.call(t,e)&&(l[e]=t[e]);return l};import{Teleport as E,defineComponent as f,h as w,inject as C,onUnmounted as b,provide as j,reactive as x,ref as v,watchEffect as G,computed as I}from"vue";import{render as c}from'../../utils/render.js';import{usePortalRoot as D}from'../../internal/portal-force-root.js';import{getOwnerDocument as g}from'../../utils/owner.js';function P(t){let r=g(t);if(!r){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let l=r.getElementById("headlessui-portal-root");if(l)return l;let e=r.createElement("div");return e.setAttribute("id","headlessui-portal-root"),r.body.appendChild(e)}let K=f({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:r,attrs:l}){let e=v(null),p=I(()=>g(e)),u=D(),o=C(h,null),n=v(u===!0||o==null?P(e.value):o.resolveTarget());return G(()=>{u||o!=null&&(n.value=o.resolveTarget())}),b(()=>{var i,m;let a=(i=p.value)==null?void 0:i.getElementById("headlessui-portal-root");a&&n.value===a&&n.value.children.length<=0&&((m=n.value.parentElement)==null||m.removeChild(n.value))}),()=>{if(n.value===null)return null;let a={ref:e,"data-headlessui-portal":""};return w(E,{to:n.value},c({ourProps:a,theirProps:t,slot:{},attrs:l,slots:r,name:"Portal"}))}}}),h=Symbol("PortalGroupContext"),U=f({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:r,slots:l}){let e=x({resolveTarget(){return t.target}});return j(h,e),()=>{let o=t,{target:p}=o,u=d(o,["target"]);return c({theirProps:u,ourProps:{},slot:{},attrs:r,slots:l,name:"PortalGroup"})}}});export{K as Portal,U as PortalGroup};
